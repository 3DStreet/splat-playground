{"version":3,"sources":["./index.js"],"names":["AFRAME","registerComponent","schema","src","type","default","cutoutEntity","pixelRatio","xrPixelRatio","depthWrite","discardFilter","init","this","data","el","sceneEl","renderer","setPixelRatio","xr","setFramebufferScaleFactor","document","querySelector","addEventListener","loadData","camera","components","object3D","cutout","initGL","async","numVertexes","console","log","object","frustumCulled","let","gl","getContext","mexTextureSize","getParameter","MAX_TEXTURE_SIZE","splatIndexArray","maxVertexes","bufferTextureWidth","bufferTextureHeight","Math","floor","centerAndScaleData","Float32Array","covAndColorData","Uint32Array","centerAndScaleTexture","THREE","DataTexture","RGBA","FloatType","needsUpdate","covAndColorTexture","RGBAIntegerFormat","UnsignedIntType","internalFormat","splatIndexes","InstancedBufferAttribute","baseGeometry","setUsage","DynamicDrawUsage","BufferGeometry","positionsArray","positions","BufferAttribute","geometry","setAttribute","setXYZ","InstancedBufferGeometry","copy","instanceCount","material","ShaderMaterial","uniforms","viewport","value","focal","gsProjectionMatrix","getProjectionMatrix","gsModelViewMatrix","getModelViewMatrix","vertexShader","fragmentShader","blending","CustomBlending","blendSrcAlpha","OneFactor","depthTest","transparent","mesh","onBeforeRender","scene","group","projectionMatrix","Vector4","getCurrentViewport","w","abs","elements","z","Mesh","add","worker","onmessage","indexes","e","sortedIndexes","attributes","splatIndex","set","length","sortReady","centerAndScaleTextureProperties","properties","get","covAndColorTextureProperties","__webglTexture","await","Promise","resolve","setTimeout","loadedVertexCount","rowLength","Worker","URL","createObjectURL","Blob","createWorker","toString","postMessage","method","fetch","then","reader","body","getReader","glInitialized","bytesDownloaded","bytesProcesses","_totalDownloadBytes","headers","totalDownloadBytes","parseInt","undefined","chunks","start","Date","now","lastReportedProgress","isPly","endsWith","mbps","percent","done","read","toFixed","push","bytesRemains","extra_data","vertexCount","concatenatedChunksbuffer","Uint8Array","offset","chunk","subarray","buffer","byteLength","pushDataBuffer","error","concatenatedChunks","reduce","acc","processPlyBuffer","u_buffer","f_buffer","matrices","covAndColorData_uint8","covAndColorData_int16","Int16Array","i","quat","Quaternion","center","Vector3","scale","mtx","Matrix4","mtx_t","makeRotationFromQuaternion","transpose","clone","cov_indexes","premultiply","setPosition","max_value","j","destOffset","x","y","max","width","height","xoffset","yoffset","min","bindTexture","TEXTURE_2D","texSubImage2D","FLOAT","RGBA_INTEGER","UNSIGNED_INT","tick","time","timeDelta","view","worldToCutout","camera_mtx","matrixWorld","invert","multiply","viewMatrix","self","mul","dot","vec1","vec2","sortSplats","maxDepth","Infinity","minDepth","depthList","sizeList","Int32Array","validIndexList","validCount","posY","posZ","cutoutSpacePos","depth","cutoutArea","posX","depthInv","counts0","starts0","depthIndex","new_matrices","resized","inputBuffer","ubuf","header","TextDecoder","decode","slice","header_end_index","indexOf","Error","exec","row_offset","offsets","types","prop","TYPE_MAP","double","int","uint","float","short","ushort","uchar","split","filter","k","startsWith","name","arrayType","replace","dataView","DataView","row","attrs","Proxy","target","size","opacity","sizeIndex","exp","scale_0","scale_1","scale_2","timeEnd","sort","b","a","ArrayBuffer","SH_C0","position","scales","rgba","Uint8ClampedArray","rot","qlen","sqrt","rot_0","rot_1","rot_2","rot_3","f_dc_0","f_dc_1","f_dc_2","red","green","blue"],"mappings":"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"}